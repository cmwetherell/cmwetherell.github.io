---
layout: post
title:  "Elo Ratings v. Machine Learning: Predicting Chess Game Results"
date:   2022-02-27 00:02:00 -0800
categories: Tournament
---
<head>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script> 

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    inlineMath: [['$','$']]
    }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> 
</head>

### Arpad Elo v. LightGBM

Arpad Elo is the inventer of the Elo rating system widely used in the chess world. LightGBM is the machine learning method I am going to use to slam dunk on his 1960s math. This article will be more technical than usual, so buckle up!

Much of this site is dedicated to predicting the results of chess games and tournaments. So, naturally, the first question we should ask is: how do we predict who will win a chess game? In comes Mr. Elo, and his famous rating system. Using Elo's formulas we can calculate the expected score for each player in a chess game. Simulating chess tournaments also requires us to estimate the probability of a decisive result, and the probability of a draw. The expected score alone from Elo's formulas is not enough. With some clever adjustments to Elo's original formulas I found on [Wismuth][wismuth], we can estimate the win, draw, and lose probability for each player.

Using these odds, we can simulate chess games and tournaments quite well. But, we can do better. Is the first move advantage for super GMs different than the rest of us mortals? We can answer this question, and many like it, with machine learning. [LightGBM][lgbm] to the rescue.

### What the hell is LightGBM? 

It's a really good way to take a bunch of historical data and predict something about the future (lets say two players Elo ratings, and an upcoming chess game!). But how does it work? I'm glad you asked! The idea is actually quite simple:

1. Build one simple model that isn't very good (using decision trees).
2. Find out where the first model didn't predict things very well (by calculating the residual error of each prediction).
3. Build another model to predict all the things you didn't predict well last time (by boosting the importance of the data we made bad predictions on).
4. Repeat, until the model is really good.

Now you can call yourself a machine learning expert. Fortunately, we can use neatly curated Python libraries to do the hard work, but it's still good to have an idea of what's happening under the hood.

Now that we know a tiny bit about LightGBM, what are we going to do with this super easy to understand algorithm? Using [Caissabase][cbase] (thank you!!), I created a dataset of nearly 5 million over the board chess games. For each game, we will extract three pieces of information: white Elo, black Elo, and the result. We'll pass this Elo data to LightGBM, ask it to come up with a way to predict the result of each game in the data, and compare it to the Elo formulas mentioned above.

### Is the Elo model or the machine learning model better?

Drum roll, please...

**The machine learning model is better.** Let's take a look at some visualizations below that can help us understand how the predictions from the two approaches differ. First we'll take a look at a "Model Disagreement Chart", also known as a Double Lift Chart in [actuarial literature][dbl]. We start by sorting the data by model disagreement (which is Elo model prediction divided by ML model prediction). Then we group the data into 20 bins, and compare! The better model is the one that is closed to the actual data. You'll see below that the ML model is better than the Elo model.

**Model Disagreement Chart**
<div>                            <div id="06e82421-17da-4e3a-acaf-abb4f3c5bd53" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("06e82421-17da-4e3a-acaf-abb4f3c5bd53")) {                    Plotly.newPlot(                        "06e82421-17da-4e3a-acaf-abb4f3c5bd53",                        [{"hovertemplate":"%{y}","legendgroup":"Elo Model","line":{"color":"#219ebc","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Elo Model","orientation":"v","showlegend":true,"x":["(-0.001, 0.897]","(0.897, 0.923]","(0.923, 0.938]","(0.938, 0.951]","(0.951, 0.962]","(0.962, 0.973]","(0.973, 0.981]","(0.981, 0.988]","(0.988, 0.993]","(0.993, 0.998]","(0.998, 1.002]","(1.002, 1.006]","(1.006, 1.01]","(1.01, 1.015]","(1.015, 1.019]","(1.019, 1.024]","(1.024, 1.029]","(1.029, 1.036]","(1.036, 1.046]","(1.046, 4.433]"],"xaxis":"x","y":[0.228,0.317,0.34,0.357,0.373,0.414,0.478,0.559,0.609,0.625,0.629,0.627,0.634,0.642,0.652,0.667,0.683,0.688,0.693,0.659],"yaxis":"y","type":"scatter"},{"hovertemplate":"%{y}","legendgroup":"ML Model","line":{"color":"#023047","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"ML Model","orientation":"v","showlegend":true,"x":["(-0.001, 0.897]","(0.897, 0.923]","(0.923, 0.938]","(0.938, 0.951]","(0.951, 0.962]","(0.962, 0.973]","(0.973, 0.981]","(0.981, 0.988]","(0.988, 0.993]","(0.993, 0.998]","(0.998, 1.002]","(1.002, 1.006]","(1.006, 1.01]","(1.01, 1.015]","(1.015, 1.019]","(1.019, 1.024]","(1.024, 1.029]","(1.029, 1.036]","(1.036, 1.046]","(1.046, 4.433]"],"xaxis":"x","y":[0.268,0.347,0.365,0.377,0.39,0.427,0.488,0.567,0.615,0.628,0.628,0.625,0.629,0.634,0.641,0.653,0.665,0.667,0.666,0.621],"yaxis":"y","type":"scatter"},{"hovertemplate":"%{y}","legendgroup":"Actual Result","line":{"color":"#ffb703","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Actual Result","orientation":"v","showlegend":true,"x":["(-0.001, 0.897]","(0.897, 0.923]","(0.923, 0.938]","(0.938, 0.951]","(0.951, 0.962]","(0.962, 0.973]","(0.973, 0.981]","(0.981, 0.988]","(0.988, 0.993]","(0.993, 0.998]","(0.998, 1.002]","(1.002, 1.006]","(1.006, 1.01]","(1.01, 1.015]","(1.015, 1.019]","(1.019, 1.024]","(1.024, 1.029]","(1.029, 1.036]","(1.036, 1.046]","(1.046, 4.433]"],"xaxis":"x","y":[0.27,0.349,0.366,0.376,0.389,0.427,0.486,0.57,0.613,0.626,0.628,0.622,0.628,0.635,0.643,0.65,0.665,0.666,0.663,0.62],"yaxis":"y","type":"scatter"}],                        {"hovermode":"x unified","legend":{"title":{"text":"Expected Score"},"tracegroupgap":0},"margin":{"t":60},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Model Disagreement Bin"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Points"}}},                        {"responsive": true}                    )                };                            </script>        </div>

The one sentence summary of this chart: When the Elo model predicted score for the white player is lower than the ML model prediction, the Elo model prediction is too low.

Another good way to evaluate which model is better is called a lift chart. When the model predicts white score to be low, is it actually low? We can explore this question visually by feeding the model made up data to see what it predicts. For two players with the same Elo, this graph shows us the expected score for the player with the white pieces.

**Lift Chart**
<div>                            <div id="7e556f22-166a-43ae-9e69-3f353b0616d1" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("7e556f22-166a-43ae-9e69-3f353b0616d1")) {                    Plotly.newPlot(                        "7e556f22-166a-43ae-9e69-3f353b0616d1",                        [{"hovertemplate":"%{y}","legendgroup":"Elo Model","line":{"color":"#219ebc","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Elo Model","orientation":"v","showlegend":true,"x":["(0.0207, 0.221]","(0.221, 0.284]","(0.284, 0.332]","(0.332, 0.368]","(0.368, 0.404]","(0.404, 0.434]","(0.434, 0.464]","(0.464, 0.492]","(0.492, 0.521]","(0.521, 0.547]","(0.547, 0.577]","(0.577, 0.603]","(0.603, 0.633]","(0.633, 0.661]","(0.661, 0.69]","(0.69, 0.721]","(0.721, 0.754]","(0.754, 0.794]","(0.794, 0.845]","(0.845, 0.986]"],"xaxis":"x","y":[0.154,0.245,0.298,0.34,0.377,0.41,0.442,0.473,0.505,0.535,0.565,0.596,0.625,0.654,0.684,0.713,0.744,0.78,0.822,0.891],"yaxis":"y","type":"scatter"},{"hovertemplate":"%{y}","legendgroup":"ML Model","line":{"color":"#023047","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"ML Model","orientation":"v","showlegend":true,"x":["(0.0207, 0.221]","(0.221, 0.284]","(0.284, 0.332]","(0.332, 0.368]","(0.368, 0.404]","(0.404, 0.434]","(0.434, 0.464]","(0.464, 0.492]","(0.492, 0.521]","(0.521, 0.547]","(0.547, 0.577]","(0.577, 0.603]","(0.603, 0.633]","(0.633, 0.661]","(0.661, 0.69]","(0.69, 0.721]","(0.721, 0.754]","(0.754, 0.794]","(0.794, 0.845]","(0.845, 0.986]"],"xaxis":"x","y":[0.17,0.266,0.32,0.361,0.397,0.43,0.458,0.483,0.508,0.534,0.558,0.585,0.612,0.639,0.67,0.697,0.73,0.765,0.811,0.887],"yaxis":"y","type":"scatter"},{"hovertemplate":"%{y}","legendgroup":"Actual Result","line":{"color":"#ffb703","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Actual Result","orientation":"v","showlegend":true,"x":["(0.0207, 0.221]","(0.221, 0.284]","(0.284, 0.332]","(0.332, 0.368]","(0.368, 0.404]","(0.404, 0.434]","(0.434, 0.464]","(0.464, 0.492]","(0.492, 0.521]","(0.521, 0.547]","(0.547, 0.577]","(0.577, 0.603]","(0.603, 0.633]","(0.633, 0.661]","(0.661, 0.69]","(0.69, 0.721]","(0.721, 0.754]","(0.754, 0.794]","(0.794, 0.845]","(0.845, 0.986]"],"xaxis":"x","y":[0.169,0.265,0.321,0.363,0.396,0.428,0.453,0.484,0.509,0.532,0.56,0.585,0.61,0.642,0.667,0.697,0.73,0.765,0.813,0.886],"yaxis":"y","type":"scatter"}],                        {"hovermode":"x unified","legend":{"title":{"text":"Expected Score"},"tracegroupgap":0},"margin":{"t":60},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Predicted Score Bin"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Points"}}},                        {"responsive": true}                    )                };                            </script>        </div>

The Elo model is predicting too low of a score for white when that player is a big underdog, and too high of a score when the white player is a favorite. The LightGBM model is performing well.

These graphs, and some other model statistics I looked at, convince me that the LightGBM model is going to allow me to more accurately predict the results of individual games, and therefore more accurately predict the outcomes of chess tournaments. I'm curious if this has a material impact on the Grand Prix odds I have published - I'll save that for another day.

It would be a let down if I just told you all about this new fancy model and didn't put it to use. Back to the question I asked above: Is the first move advantage for white different for players of different Elo ratings? Yes! 

**First Move Advantage for White in Chess**
<div>                            <div id="d7338d4c-61b7-489e-8714-8f243f2ad631" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d7338d4c-61b7-489e-8714-8f243f2ad631")) {                    Plotly.newPlot(                        "d7338d4c-61b7-489e-8714-8f243f2ad631",                        [{"hovertemplate":"Expected Score: %{y}","legendgroup":"","marker":{"color":"#ffb703","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160,2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799],"xaxis":"x","y":[0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337139735483982,0.5337371532677798,0.5337548641304829,0.533772574993186,0.533790285855889,0.5337873571273871,0.5337844283988854,0.5337794334870529,0.5337664314272652,0.5337534293674776,0.5337480707379902,0.533736981292056,0.5337189393223459,0.5338069635345108,0.533894987746676,0.533983011958841,0.5340574758769117,0.5341359643523826,0.5341799319379015,0.5342285787037107,0.5342533457709246,0.5343031895908456,0.5343530334107665,0.5344100921194375,0.5344671508281085,0.5345239726289913,0.5344053546214973,0.5342870486467397,0.5341683504516443,0.5340502109624514,0.5339320714732584,0.5338099071156988,0.5336809542790607,0.5335556609218828,0.5334427420656124,0.5333298232093422,0.5332162062572895,0.5330820011873124,0.5329914179797479,0.5329066281038403,0.5329294624886358,0.5329522968734312,0.5329850069123574,0.5330628023513054,0.5331526986965601,0.5332416057965323,0.5333305128965046,0.533457167530216,0.5335838221639275,0.5337058496732682,0.5338404778999031,0.5339751061265382,0.5340788537781219,0.5341826014297059,0.5342865744110163,0.5343722085330189,0.5344578426550214,0.5345530880843786,0.5346483335137358,0.5347435595856563,0.5348298448933149,0.5349161302009734,0.5349970857409355,0.5350780412808976,0.5351573874242687,0.5352133017352881,0.5352693125725498,0.5353993210423242,0.5355293295120988,0.5356482775479153,0.5357330348049203,0.5358177920619255,0.5359131356705221,0.5360084792791187,0.5360797104010115,0.5361209344664148,0.5361621585318183,0.5361932610632081,0.5362243635945978,0.5362554661259876,0.5362608941917648,0.536266322257542,0.536297139635183,0.5363279570128239,0.5363582548916898,0.5363499735044239,0.5363416921171583,0.5363446959615417,0.536347699805925,0.536405343939793,0.5364729645486191,0.5365405851574455,0.5366119584141902,0.5367870985863294,0.5369676789365626,0.5370972250515815,0.5372267711666004,0.5372513408885596,0.5372376620012967,0.5372231886194146,0.537230628610171,0.5372139121652489,0.5372568161608475,0.5372997201564461,0.5373445921533943,0.5374300165860116,0.5375185832729262,0.5376023969850351,0.5376862106971442,0.5377857320877032,0.5379222468329588,0.5380432116418656,0.5381547463315973,0.538266281021329,0.5383784496827206,0.538469517701161,0.538534307604032,0.5384737116280173,0.5384131156520026,0.5383481963185354,0.538317214295829,0.5382862322731228,0.5383292231733622,0.5383722140736015,0.5383777594322761,0.5383831189624932,0.5383791884875726,0.5383764342180433,0.5383888241879086,0.5384075349444916,0.5384645170190512,0.5385214990936109,0.5385777352507122,0.5386654725352903,0.5387583716166295,0.5388259511372062,0.53888468872963,0.5389153025996098,0.5389459164695896,0.5389735135078437,0.5390138842229045,0.5390304694989826,0.5390396383094731,0.5390488071199636,0.5391346948495663,0.539215850361872,0.5392970058741776,0.5393919691437395,0.5394758045693272,0.5395596399949147,0.5396451132212143,0.5397701580856682,0.5398805479926948,0.5399909378997213,0.5400439385273126,0.5400820738566713,0.5400598511037131,0.5400108970939361,0.5399619430841592,0.5399424731726153,0.5399367584364914,0.5399257553271661,0.5399175069250525,0.5399057313620301,0.5398967917236699,0.5398745159373635,0.539828468482257,0.5397878413609694,0.5397462988170441,0.5397361157820022,0.5397308312729688,0.5397259879810854,0.5397219956370208,0.5397180032929563,0.5397162816315444,0.5397152696870057,0.5397144975323566,0.5397155758112372,0.5397165122874139,0.5397135293394171,0.5397101598521625,0.5397060368436792,0.5396812120983353,0.5396563873529912,0.5396271217919866,0.5396030077107311,0.5396084695523522,0.5396171201107597,0.5396257706691673,0.5396591932295716,0.5396765156644981,0.5396720299452784,0.5396762110580487,0.5396724722852848,0.5396886192172594,0.5397046430738278,0.5397072979145522,0.5397043888423583,0.5396404635741284,0.5395800091689775,0.5395070168325575,0.5395565044194307,0.5395339808669871,0.5395114573145436,0.5394680429416064,0.5394509801173777,0.5394108872043198,0.5394312322639522,0.5394595844715396,0.5394604303584757,0.5394563548159197,0.5394450976199441,0.5394393355375742,0.5394335734552044,0.5394250726867218,0.5394165719182392,0.539450480284104,0.5394761661255114,0.5395363728568711,0.5395891994397336,0.5396420260225963,0.5396757212411525,0.5397174671165568,0.5397519981032107,0.539789757890855,0.5398147891442842,0.5398534979369096,0.5398764184007567,0.5398997310849415,0.5399257827026046,0.5399518343202676,0.5399779981004833,0.5399943297846762,0.5400070019894091,0.5400081427699934,0.5400443493531605,0.5400718271319013,0.5401070402696585,0.5401422534074157,0.5401684291957609,0.5401888667955626,0.5402204668502281,0.5402457518612369,0.540271036872246,0.5402964455685146,0.5403266144827347,0.5403567833969547,0.5403578971672586,0.5403590109375624,0.5403432440944501,0.5403431892655831,0.5403420052382532,0.5403499567059875,0.5403579081737216,0.540379381993729,0.5404024018314424,0.540430055301641,0.5404539964993009,0.5404779376969606,0.5404609251804663,0.540459151912284,0.5404780177534056,0.5405129281093747,0.5405478384653438,0.5406312223374214,0.5406985953528298,0.5407280123338734,0.5408073053547436,0.5408865983756141,0.5409740291274443,0.5410293116551345,0.5410888281925048,0.5410953154917226,0.5411018027909406,0.5411241625120993,0.5411832411128765,0.5412423197136536,0.5412937077941751,0.5413450958746963,0.5413959598693096,0.5414403473096664,0.5414857716241438,0.5415102209049,0.541534670185656,0.5415596389651873,0.5416094518186694,0.5416249612597165,0.5416629020376004,0.5417008428154844,0.5417577991950367,0.5417979699036387,0.5418381406122407,0.541848728010254,0.5418593154082673,0.5418937756005635,0.5419219241093944,0.541957687505644,0.5420235462549907,0.5420894050043373,0.542156058248303,0.5421879998212941,0.5422207848358724,0.5422604923848968,0.5423001999339212,0.5423436128434972,0.5423690790442144,0.5423760947288251,0.5424075391209553,0.5424389835130855,0.5424560387598046,0.5424388207494645,0.5424210394114617,0.5424230826196392,0.5424251258278168,0.5424243291331594,0.5424446440627884,0.5424649589924173,0.5424919851803537,0.54251901136829,0.5425538532704842,0.5425725589733533,0.5425912646762224,0.542548606955824,0.5425059492354258,0.5425092617587403,0.5425246003091391,0.5425399388595377,0.5425782675326668,0.5426165962057959,0.5426467755268279,0.5426741106638265,0.5427077962604018,0.5427336827421813,0.5427595692239607,0.5427802939089791,0.5428178732798675,0.5428561557531885,0.5429045430764857,0.5429529303997831,0.5430069196401617,0.5430544386214441,0.543104807664575,0.5431250624535937,0.5431453172426124,0.5432102061340709,0.5432702767431987,0.5433303473523268,0.5433294623393167,0.5433285773263068,0.5433166918454974,0.5432995412439403,0.5432823906423832,0.5433074397836463,0.5433324889249095,0.5433558437386043,0.5433950978235831,0.5434343519085616,0.5434742301514696,0.5435141083943775,0.5435549139497584,0.5435792990727706,0.5436036841957825,0.5436442482482636,0.5436848123007445,0.5437330388173179,0.5437778313890832,0.5438226239608485,0.5438550731092149,0.5438875222575814,0.5439035994697728,0.5439398599004537,0.543975734923955,0.5439921750851348,0.5440086152463144,0.5439942110804942,0.5440071817496984,0.5440201524189028,0.5440978536589846,0.5441755548990662,0.5442570720903275,0.5443670696369383,0.5444633389137754,0.544563284325222,0.5446632297366686,0.5447818915324107,0.5448873249147308,0.5449746873661104,0.5450288741052326,0.5450830608443545,0.5451124755814798,0.5450983794546169,0.5451055144767315,0.5451304266917144,0.5451553389066974,0.54518132090832,0.5452036700145505,0.5452287001803368,0.5452956108521523,0.5453656885375691,0.5454337354046644,0.5454661735626025,0.5454206216271779,0.5454590957876643,0.5454975699481508,0.545556934929131,0.5455806354439972,0.5456417088766682,0.5456135912555704,0.5455854736344726,0.5455848623340263,0.5455493053725009,0.5455266608808421,0.5456051695177964,0.5456836781547505,0.5457649254778174,0.5458015569782628,0.5458329615297491,0.545864716463114,0.545842945814862,0.5458238761348168,0.5458048064547713,0.5458167299979207,0.5458375820623355,0.5458395141014353,0.5460452650494254,0.5462639814394188,0.5463319681823997,0.5463647734588192,0.5463673860770766,0.5463667010559531,0.5463660160348297,0.5463908990667915,0.5463803699100009,0.5463685131846405,0.5463558133825213,0.5463080477778192,0.5463454377116834,0.5463716498465389,0.5463971151646845,0.5464258245005853,0.5464603762944501,0.546483653406743,0.5465065863087013,0.5465295192106597,0.5465305599246391,0.5465278296659497,0.5466213950985277,0.5467202692999368,0.5468105808919461,0.5469121857250616,0.5469845666396418,0.5470684689602046,0.547137210737556,0.5472059525149072,0.547220069723087,0.5472190223944844,0.5472505820751415,0.5473423053933928,0.5474340287116443,0.5475558501998262,0.5474920305523272,0.5474075717955241,0.5474265324754115,0.5474387945803636,0.5474042141861417,0.5473753201090368,0.5473843820662969,0.5472529677951687,0.5471215535240403,0.54699306195591,0.5469324039343886,0.5468675119031865,0.5468609513255147,0.546854390747843,0.5468530853580829,0.5468337433078244,0.546814401257566,0.5467571228948757,0.546699844532185,0.5466430902554026,0.5465975114608858,0.5465508957922481,0.5465759466685568,0.5466009975448652,0.5466260484211737,0.5466376700621906,0.5466835951156425,0.5466958036006083,0.5466826733747708,0.5466418574684317,0.5466078507580849,0.5465738440477382,0.5465656680000619,0.546515788420551,0.5464970128569828,0.546478768699081,0.5464529096537604,0.5464433058995593,0.5464337021453579,0.5464240983911568,0.5464272929352919,0.546439330101493,0.5464546269768782,0.5464699238522633,0.5464795473657473,0.546466565152421,0.5464775713381821,0.5464569195235457,0.5464362677089093,0.5464142973612339,0.5463896069159215,0.5463654797982715,0.5463517296954695,0.5463363634620362,0.5463232031597778,0.5463100318761843,0.5463004195085539,0.5462909816512749,0.5462815437939958,0.5462686135799112,0.5462491673666835,0.5462714207146218,0.5463034746163546,0.5463355285180876,0.5463652528030226,0.5463831368893308,0.546401020975639,0.5463944081509093,0.5463219161786891,0.5462552501979944,0.5461924066960782,0.5461232127345856,0.5460618434667621,0.5460004741989386,0.545939104931115,0.545886200538184,0.5458332961452532,0.5457715783824825,0.5456746027872837,0.5455750421067295,0.5454715365934667,0.5453680310802039,0.5452876075807549,0.545207184081306,0.5450733509564658,0.5449490683312533,0.544824785706041,0.5447557508716399,0.5448218204849894,0.5448988905661383,0.544995225299246,0.5450915600323537,0.5451657878007847,0.5452400155692156,0.5453162278192648,0.5453914060962627,0.5454665843732603,0.5455623451153455,0.5456581058574305,0.5457539958011941,0.5458525510019065,0.5459426702632248,0.5460024682044327,0.5460622661456406,0.5460565189258206,0.5460675417987554,0.5460785646716899,0.5460929826331595,0.5461074005946291,0.5461381931201431,0.5461439039011595,0.5461496146821759,0.5461742832198886,0.5461989517576012,0.5462528051936615,0.546278574077824,0.5463043429619864,0.5463618438569904,0.5463889293202536,0.5464139175333343,0.5464108119303231,0.5464077063273117,0.5464653911031022,0.5465230758788926,0.5465769863196028,0.5466389736939855,0.5467009610683683,0.5467820314294491,0.5468631017905301,0.546944172151611,0.54706875337668,0.547193334601749,0.5472923977043146,0.5473914608068801,0.5475014697548343,0.5476152346735865,0.5477289995923387,0.5476838162835531,0.5476354659611663,0.5475871156387794,0.5475579221576337,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338,0.5475579221576338],"yaxis":"y","type":"scatter"}],                        {"legend":{"title":{"text":"Legend Title"},"tracegroupgap":0},"margin":{"t":60},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Elo"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Score"}}},                        {"responsive": true}                    )                };                            </script>        </div>

For games with a higher average Elo rating, the white player has a slightly larger first move advantage. The advantage goes from 0.034 to to 0.048 expected points, a 40% increase in the first move advantage for Super GMs compared to players at about 2000 Elo.

### I can't believe you're still reading this

Many kudos are still in order for Arpad Elo - his system is still quite useful today, 60+ years later. Were wondering why I didn't use machine learning to build a new rating system? The main challenge in doing that would be curating a really high quality dataset. Elo ratings from FIDE and USCF are effectively just that - high quality (aggregated) data for each player. If there was a good way to get a high quality database of all FIDE rated games ever played, we could do some damage with machine learning!

For now, the best I've come up with is using Elo ratings and machine learning together. Combining math from the 60s with math from today, we can make good predictions about chess games.


[wismuth]: https://wismuth.com/elo/calculator.html
[lgbm]: https://github.com/microsoft/LightGBM#readme
[cbase]: http://caissabase.co.uk/
[dbl]: https://contentpreview.s3.us-east-2.amazonaws.com/CAS+Monograph+5+-+Generalized+Linear+Models+for+Insurance+Ratemaking.pdf